<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="en">

<body>
<header th:fragment="header">
    <div id="menubar" onclick="toggleSidebar()">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
    </div>
    <div id="logo">
        <h1>Jjikmukpa</h1>
    </div>
    <div id="login_menu">
        <div>
            <a sec:authorize="isAnonymous()" th:href="@{/auth/login}">로그인</a>
            <span sec:authorize="isAnonymous()"> | </span>
            <a sec:authorize="isAnonymous()" th:href="@{/member/register}">회원가입</a>
        </div>

        <div sec:authorize="isAuthenticated()">
            <a>[[| ${#authentication.principal.member.memberId} 님 환영합니다. |]]</a>
        </div>

        <div sec:authorize="isAuthenticated()">
            <form th:action="@{/auth/logout}" method="post">
                <button>Logout</button>
            </form>
        </div>

        <div sec:authorize="isAuthenticated()">
            <a th:href="@{/post/post}">User</a>
        </div>
        <div sec:authorize="hasRole('ADMIN')">
            <a th:href="@{/admin/admin}">Admin</a>
        </div>
    </div>
</header>
</body>